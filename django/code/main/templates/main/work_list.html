{% extends 'main/base.html' %}
{% load static %}
{% load sass_tags %}
{% load compress %}

{% block head %}
  {% compress css inline %}
    <link rel="stylesheet" href="{% sass_src "main/css/work-list.scss" %}"/>
  {% endcompress %}
  <link rel="alternate" type="application/rss+xml" href="https://{{ request.get_host }}{% url 'main:work_feed' %}" title="Media Creative Supporter - WORKS" />
{% endblock head %}

{% block main %}
  <main>
    <div class="container">
      <header>
        <div class="global-page-title">
          <h1 class="global-page-title-name">WORKS</h1>
          <div class="global-page-title-description">制作実績</div>
        </div>
      </header>
      <nav class="works-nav">
        <ul>
          {% for year in gettable_work_years %}
            {% if year == year_displayed %}
              <li>
                <span>{{ year }}</span>
              </li>
            {% else %}
              <li>
                <a href="{% url 'main:work_list' year %}" aria-label="{{ year }}年の作品を見る"><span>{{ year }}</span></a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </nav>
      <div class="works-contents-outer">
        {% for work in work_list %}
          <div class="works-contents-item">
            <a href="{{ work.url }}" aria-label="{{ work.title }}">
              <dl>
                <dt>
                  <img class="lazyload" src="{% static 'main/img/logo.png' %}" srcset="{% static 'main/img/logo_large.png' %} 2x" data-src="{{ work.thumbnail.mq }}" data-srcset="{{ work.thumbnail.hq }} 2x" alt="{{ work.title }}"/>
                </dt>
                <dd>
                  <time datetime="{{ work.published_at|date:"Y-m-d" }}">{{ work.published_at|date:"Y.n.j" }}</time>
                  <h2>{{ work.title }}</h2>
                </dd>
              </dl>
            </a>
          </div>
        {% endfor %}
      </div>
    </div>
  </main>
{% endblock main %}
